---
layout: post
title:  "Vuex介绍"
date:   2019-09-04 15:00:00
categories: Vuex
---
...
# Vuex是什么?

集中管理vue程序中所有组建的状态，并且以一种可预测的方式更新状态。

# Vuex解决了什么问题？

熟悉vue开发的同学都知道，首先，多个视图依赖同一状态，传参对于层层嵌套的组件来说无疑是一个非常繁琐的操作，并且兄弟组件之间状态无法传递，导致项目无法维护；其次，同一个状态在不同视图之间修改，我们通常采用父子组件之间传递和事件来传递或者变更，也会导致我们项目无法维护。
vuex通过定义和隔离状态管理中的概念，并且通过强制的规则维持视图和状态之间的独立性，使我们的模块结构化可维护。

#Vuex核心概念

## State

Vuex 使用单一状态树——，用一个对象就包含了全部的应用层级状态，至此它便作为一个“唯一数据源 (SSOT)”而存在。

## Getter

有时候我们需要从 store 中的 state 中派生出多个视图公用的状态，我们可以将getter理解为vuex的计算属性。

## Mutation

提交mutation是vuex中唯一更改state状态方式。每个mutation都有一个type和一个handler, handler是提交vuex中state的地方。视图中通过commit传递参数，即mutaition的payload(荷载)。

mutation规则：
1. 最好提前在你的 store 中初始化好所有所需属性。

2. 当需要在对象上添加新属性时，你应该

- 使用 Vue.set(obj, 'newProp', 123), 或者

- 以新对象替换老对象。例如，利用 stage-3 的对象展开运算符我们可以这样写：
```js
    state.obj = {
        ...state.obj,
        type: 'mutation'
    }
```